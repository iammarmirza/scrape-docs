---
title: Metric
slug: apis-metric
visibility: PUBLIC
label: Developers
ogImage: null
seoTitle: null
seoDescription: null
---
[Jump to Content](#content)

* * *

[System Status](https://deepsourcestatus.com/)[Community Forum](https://discuss.deepsource.com/)

Guides

[System Status](https://deepsourcestatus.com/)[Community Forum](https://discuss.deepsource.com/)

Metric

Search

Metric
======

setRepositoryMetricThreshold

[](#setrepositorymetricthreshold)
-----------------------------------------------------------------

`Mutation:setRepositoryMetricThreshold` Update the threshold for a metric in a repository.

### 

Arguments

[](#arguments)

Field

Type

Description

**input**

[SetRepositoryMetricThresholdInput](https://deepsource-docs.readme.io/docs/apis-metric#setrepositorymetricthresholdinput)!

Input for `SetRepositoryMetricThreshold` mutation.

### 

Sample Request

[](#sample-request)

GraphQL

`mutation ($input: SetRepositoryMetricThresholdInput!) {   setRepositoryMetricThreshold(input: $input) {     ok   } }`

JavaScript

`variables = {   "input": {     "repositoryId": "VHJhbnNmb3JtZXI6bGp6a3d6",     "metricShortcode": "LCV",     "metricKey": "PYTHON",     "thresholdValue": 90   } }`

### 

Sample Response

[](#sample-response)

JSON

`{   "setRepositoryMetricThreshold": {     "ok": true   } }`

Objects

[](#objects)
-----------------------

### 

Metric

[](#metric)

A metric tracked by an analyzer.

Field

Type

Description

**id**

[ID](https://deepsource-docs.readme.io/docs/apis-reference-scalars#id)!

The ID of the object.

**name**

[String](https://deepsource-docs.readme.io/docs/apis-reference-scalars#string)!

The metric's name.

**shortcode**

[MetricShortcode](https://deepsource-docs.readme.io/docs/apis-reference-enums#metricshortcode)!

The metric's unique identifier.

**description**

[String](https://deepsource-docs.readme.io/docs/apis-reference-scalars#string)!

The metric's description in markdown format.

**positiveDirection**

!

Direction which can be considered positive for the metric.

**unit**

[String](https://deepsource-docs.readme.io/docs/apis-reference-scalars#string)

Unit suffix to apply to the metric value.

**minValueAllowed**

[Int](https://deepsource-docs.readme.io/docs/apis-reference-scalars#int)

Lower bound for the metric value.

**maxValueAllowed**

[Int](https://deepsource-docs.readme.io/docs/apis-reference-scalars#int)

Upper bound for the metric value.

### 

RepositoryMetric

[](#repositorymetric)

A Metric's manifestation specific to a repository.

Field

Type

Description

**name**

[String](https://deepsource-docs.readme.io/docs/apis-reference-scalars#string)!

The metric's name.

**shortcode**

[MetricShortcode](https://deepsource-docs.readme.io/docs/apis-reference-enums#metricshortcode)!

The metric's unique identifier.

**description**

[String](https://deepsource-docs.readme.io/docs/apis-reference-scalars#string)!

The metric's description in markdown format.

**positiveDirection**

!

Direction which can be considered positive for the metric.

**unit**

[String](https://deepsource-docs.readme.io/docs/apis-reference-scalars#string)

Unit suffix to apply to the metric value.

**minValueAllowed**

[Int](https://deepsource-docs.readme.io/docs/apis-reference-scalars#int)

Lower bound for the metric value.

**maxValueAllowed**

[Int](https://deepsource-docs.readme.io/docs/apis-reference-scalars#int)

Upper bound for the metric value.

**isReported**

[Boolean](https://deepsource-docs.readme.io/docs/apis-reference-scalars#boolean)!

Whether this metric is enabled for reporting in the repository.

**isThresholdEnforced**

[Boolean](https://deepsource-docs.readme.io/docs/apis-reference-scalars#boolean)!

Whether to fail checks when thresholds are not met for the metric in the repository.

**items**

\[[RepositoryMetricItem](https://deepsource-docs.readme.io/docs/apis-metric#repositorymetricitem)!\]

Items in the repository metric.

### 

RepositoryMetricItem

[](#repositorymetricitem)

An item in the `RepositoryMetric`.

Field

Type

Description

**id**

[ID](https://deepsource-docs.readme.io/docs/apis-reference-scalars#id)!

The ID of the object.

**key**

[MetricKey](https://deepsource-docs.readme.io/docs/apis-reference-enums#metrickey)!

Distinct key representing the metric in the repository.

**threshold**

[Int](https://deepsource-docs.readme.io/docs/apis-reference-scalars#int)

Threshold value for the metric, customizable by the user. Null if no threshold is set.

**latestValue**

[Float](https://deepsource-docs.readme.io/docs/apis-reference-scalars#float)

Latest value captured for this metric on the repository's default branch.

**latestValueDisplay**

[String](https://deepsource-docs.readme.io/docs/apis-reference-scalars#string)

Latest value captured for this metric on the repository's default branch. Suffixed with the unit and returned as a human-readable string.

**thresholdStatus**

[MetricThresholdStatus](https://deepsource-docs.readme.io/docs/apis-reference-enums#metricthresholdstatus)

The status of the threshold condition for the latest metric value on the repository's default branch.

**values**

[MetricValueConnection](https://deepsource-docs.readme.io/docs/apis-metric#metricvalueconnection)

All values captured for this metric in the repository or check.

commitOidIn

\[[String](https://deepsource-docs.readme.io/docs/apis-reference-scalars#string)\]

Commit OIDs to filter the metric values on. Applicable only for fetching metrics inside a repository but not check.

offset

[Int](https://deepsource-docs.readme.io/docs/apis-reference-scalars#int)

before

[String](https://deepsource-docs.readme.io/docs/apis-reference-scalars#string)

after

[String](https://deepsource-docs.readme.io/docs/apis-reference-scalars#string)

first

[Int](https://deepsource-docs.readme.io/docs/apis-reference-scalars#int)

last

[Int](https://deepsource-docs.readme.io/docs/apis-reference-scalars#int)

### 

MetricValue

[](#metricvalue)

An individual value captured for a `RepositoryMetricItem`.

Field

Type

Description

**id**

[ID](https://deepsource-docs.readme.io/docs/apis-reference-scalars#id)!

The ID of the object.

**value**

[Float](https://deepsource-docs.readme.io/docs/apis-reference-scalars#float)!

Metric value reported by the analyzer.

**valueDisplay**

[String](https://deepsource-docs.readme.io/docs/apis-reference-scalars#string)!

Value suffixed with the unit of the metric.

**threshold**

[Int](https://deepsource-docs.readme.io/docs/apis-reference-scalars#int)

Threshold value for the metric when this value was reported. Null if no threshold was set.

**thresholdStatus**

[MetricThresholdStatus](https://deepsource-docs.readme.io/docs/apis-reference-enums#metricthresholdstatus)

The status of the threshold condition for the metric value.

**commitOid**

[String](https://deepsource-docs.readme.io/docs/apis-reference-scalars#string)

Commit SHA for which this value was recorded on the repository.

**createdAt**

[DateTime](https://deepsource-docs.readme.io/docs/apis-reference-scalars#datetime)!

The time at which the value was captured.

### 

MetricValueConnection

[](#metricvalueconnection)

Field

Type

Description

**pageInfo**

[PageInfo](https://deepsource-docs.readme.io/docs/apis-reference-pagination#pageinfo)!

Pagination data for this connection.

**edges**

\[[MetricValueEdge](https://deepsource-docs.readme.io/docs/apis-metric#metricvalueedge)\]!

Contains the nodes in this connection.

**totalCount**

[Int](https://deepsource-docs.readme.io/docs/apis-reference-scalars#int)

### 

MetricValueEdge

[](#metricvalueedge)

A Relay edge containing a `MetricValue` and its cursor.

Field

Type

Description

**node**

[MetricValue](https://deepsource-docs.readme.io/docs/apis-metric#metricvalue)

The item at the end of the edge.

**cursor**

[String](https://deepsource-docs.readme.io/docs/apis-reference-scalars#string)!

A cursor for use in pagination.

### 

SetRepositoryMetricThresholdInput

[](#setrepositorymetricthresholdinput)

Input for the [`setRepositoryMetricThreshold`](#setRepositoryMetricThreshold) mutation.

Field

Type

Description

**repositoryId**

[ID](https://deepsource-docs.readme.io/docs/apis-reference-scalars#id)!

GraphQL node ID of the repository.

**metricShortcode**

[MetricShortcode](https://deepsource-docs.readme.io/docs/apis-reference-enums#metricshortcode)!

Metric shortcode to update the threshold for.

**metricKey**

[MetricKey](https://deepsource-docs.readme.io/docs/apis-reference-enums#metrickey)!

The key of the metric you want to update the threshold for.

**thresholdValue**

[Int](https://deepsource-docs.readme.io/docs/apis-reference-scalars#int)

Threshold value to set. Setting to `null` removes the threshold.

Updated over 1 year ago

* * *
